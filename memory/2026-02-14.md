# Memory: 2026-02-14

## StarAtlasTV Tweet Pipeline Created

Built complete tweet automation pipeline at `/home/vbai/openclaw_unified/apps/bots/tweet-pipeline/`

### Architecture
- **Models**: Local Ollama (qwen2.5:1.5b) instead of cloud backends
- **Sources**: YouTube (@staratlastv) + Aephia blog
- **Pipeline**: ingest → normalize → spellcheck → extract facts → generate → filter relevance → dedupe → post

### Key Modules
| Module | Purpose |
|--------|---------|
| `ingest_youtube.py` | Fetch latest video + transcript |
| `ingest_aephia.py` | Fetch latest blog post |
| `normalize_text.py` | Remove timestamps, artifacts, fix OCR |
| `spellcheck.py` | Hybrid: dictionary cleanup + LLM rewrite |
| `extract_facts.py` | LLM extracts 3-6 factual nuggets |
| `generate_tweet.py` | Human-like tweet with facts + link |
| `filter_relevance.py` | Gate: must mention Star Atlas/Z.ink |
| `dedupe.py` | Prevent duplicates within 48h |
| `post_browser.py` | Uses existing browser-runner skill |
| `post_api.py` | Stub for Twitter API (future) |

### Configuration (`config/pipeline.yaml`)
- `mode`: "auto" (post) or "draft" (save only)
- `post_method`: "browser" or "api"
- `interval_hours`: 3
- `required_terms_any`: Star Atlas, StarAtlas, Z.ink, z.ink
- `spellcheck.strategy`: "hybrid" (dict + LLM)

### Commands
```bash
cd /home/vbai/openclaw_unified/apps/bots/tweet-pipeline
pip install -r requirements.txt
python3 src/pipeline_run.py --dry-run  # Test
python3 src/pipeline_run.py            # Run
```

### Cron (every 3 hours)
```
0 */3 * * * cd /home/vbai/openclaw_unified/apps/bots/tweet-pipeline && /usr/bin/python3 src/pipeline_run.py >> /home/vbai/openclaw_unified/ops/logs/tweet-pipeline.log 2>&1
```

### Output Locations
- `data/drafts/` - Draft tweets
- `data/sent/` - Posted tweets
- `data/failed/` - Failed attempts
- `data/state/status.json` - Dashboard status

### Tests
16 smoke tests created and passing (normalize, spellcheck, dedupe, relevance, config, directories).

### Important Notes
- Uses local qwen2.5:1.5b model (no cloud dependency)
- Browser posting assumes existing X session (cookies valid)
- API mode requires: X_API_KEY, X_API_SECRET, X_ACCESS_TOKEN, X_ACCESS_SECRET env vars
- Relevance gate enforces Star Atlas + Z.ink requirement
